import{_ as x,u as T,j as b,k as w,l as N,t as u,e as m,m as y,P as l,E as B,C as k,r as E,o,c as n,a as e,h,F as g,f,g as C,n as D,q as S,v as A,A as _,d as G,p as V,i as M}from"./index-30205c41.js";const P={setup(){const a=T(),c=b({});w(()=>{v(a.params.eventId),t(a.params.eventId)}),N(()=>{u.resetData()});async function v(r){try{await u.getEventById(r)}catch(i){l.error(i.message,"[GETTING EVENT BY ID]")}}async function t(r){try{await G.getAttendeesByEventId(r),p()}catch(i){l.error(i.message,"[GETTING ATTENDEES BY EVENT ID]")}}async function p(){try{await y.getCommentsByEventId(a.params.eventId)}catch(r){l.error(r.message,"[GETTING COMMENTS BY EVENT ID]")}}return{editable:c,activeEvent:m(()=>_.activeEvent),account:m(()=>_.account),attendees:m(()=>_.attendees),comments:m(()=>_.comments),async createComment(){try{await y.createComment(c.value),c.value={}}catch(r){l.error(r.message,"[CREATING COMMENT]")}}}},components:{EventDetailsCard:B,CommentComponent:k}},d=a=>(V("data-v-a44e9583"),a=a(),M(),a),j={key:0,class:"container-fluid"},Y={class:"row my-3 px-3"},q={class:"row my-3 px-3"},F={key:0,class:"col-12 p-0"},L=d(()=>e("p",{class:"title"},"See who is attending",-1)),O={class:"event-card p-2"},R=["src","alt","title"],U={class:"row justify-content-center my-3 px-3"},J={class:"col-12 col-md-9 p-0"},W=d(()=>e("p",{class:"title"},"What are people saying",-1)),z={class:"event-card py-3 px-3 px-md-5"},H={key:0,class:"text-end green"},K={key:1},Q=d(()=>e("div",{class:"text-end green"}," Join the conversation ",-1)),X={class:"pt-2"},Z=d(()=>e("label",{for:"#comment"},null,-1)),$=d(()=>e("div",{class:"text-end"},[e("button",{class:"btn bg-btn btn-success text-dark fw-bold mb-3 px-4 py-2",type:"submit"},"post comment")],-1)),ee={key:2,class:"text-end green"};function te(a,c,v,t,p,r){const i=E("EventDetailsCard"),I=E("CommentComponent");return t.activeEvent?(o(),n("div",j,[e("section",Y,[h(i)]),e("section",q,[t.attendees[0]?(o(),n("div",F,[L,e("div",O,[(o(!0),n(g,null,f(t.attendees,s=>(o(),n("img",{key:s.id,src:s.profile.picture,alt:s.profile.name,title:s.profile.name},null,8,R))),128))])])):C("",!0)]),e("section",U,[e("div",J,[W,e("div",z,[t.activeEvent.isCanceled?(o(),n("div",H," Archived conversation ")):t.account.id?(o(),n("div",K,[Q,e("form",{onSubmit:c[1]||(c[1]=D(s=>t.createComment(),["prevent"]))},[e("div",X,[S(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=s=>t.editable.body=s),class:"form-control",name:"comment",id:"comment",maxlength:"300",rows:"5",placeholder:"Tell the people...",required:""},null,512),[[A,t.editable.body]]),Z]),$],32)])):(o(),n("div",ee," Login to join the conversation ")),(o(!0),n(g,null,f(t.comments,s=>(o(),n("div",{key:s.id,class:"my-2"},[h(I,{commentProp:s},null,8,["commentProp"])]))),128))])])])])):C("",!0)}const oe=x(P,[["render",te],["__scopeId","data-v-a44e9583"]]);export{oe as default};
